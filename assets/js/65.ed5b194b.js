(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{1135:function(t,s,a){"use strict";a.r(s);var e=a(7),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"基本内置类型-primitive-built-in-types"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基本内置类型-primitive-built-in-types"}},[t._v("#")]),t._v(" 基本内置类型（Primitive Built-in Types）")]),t._v(" "),e("h3",{attrs:{id:"算数类型-arithmetic-types"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#算数类型-arithmetic-types"}},[t._v("#")]),t._v(" 算数类型（Arithmetic Types）")]),t._v(" "),e("p",[t._v("算数类型分为两类：整型、浮点型。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(782),alt:""}})]),t._v(" "),e("p",[e("code",[t._v("bool")]),t._v("：取值是"),e("code",[t._v("true")]),t._v("或"),e("code",[t._v("false")]),t._v("。\n"),e("code",[t._v("char")]),t._v("：可以表示基本字符集。\n"),e("code",[t._v("wchar_t")]),t._v("：可以表示机器的最大扩展字符集。")]),t._v(" "),e("p",[t._v("在整型类型大小方面，cpp规定"),e("code",[t._v("short")]),t._v(" ≤ "),e("code",[t._v("int")]),t._v(" ≤ "),e("code",[t._v("long")]),t._v(" ≤ "),e("code",[t._v("long long")]),t._v("(cpp11)。")]),t._v(" "),e("p",[t._v("除去布尔型和扩展字符型，"),e("mark",[t._v("其他整型")]),t._v("可以分为带符号（signed）和无符号（unsigned）两种。")]),t._v(" "),e("p",[t._v("浮点型有"),e("code",[t._v("float")]),t._v("、"),e("code",[t._v("double")]),t._v("和"),e("code",[t._v("long double")]),t._v("（拓展精度）三种。")]),t._v(" "),e("p",[t._v("字符型分为带符号"),e("code",[t._v("signed char")]),t._v("和无符号"),e("code",[t._v("unsigned char")]),t._v("。"),e("code",[t._v("char")]),t._v("的具体哪种由"),e("strong",[t._v("编译器")]),t._v("决定。")]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("char")]),t._v("的符号仅仅在做数字运算时有意义，做字符时两者相同。")])]),t._v(" "),e("hr"),t._v(" "),e("p",[t._v("如何选择算数类型：")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("当明确知晓数值不可能为负时，应该使用无符号类型。")])]),t._v(" "),e("li",[e("p",[t._v("使用"),e("code",[t._v("int")]),t._v("执行整数运算，如果数值超过了"),e("code",[t._v("int")]),t._v("的表示范围，应该使用"),e("code",[t._v("long long")]),t._v("类型。")])]),t._v(" "),e("li",[e("p",[t._v("在算数表达式中不要使用"),e("code",[t._v("char")]),t._v("和"),e("code",[t._v("bool")]),t._v("类型。否则，必须明确指定其"),e("strong",[t._v("符号")]),t._v("类型。")])]),t._v(" "),e("li",[e("p",[t._v("浮点数运算时建议使用"),e("code",[t._v("double")]),t._v("类型。")])]),t._v(" "),e("li",[e("p",[t._v("不要"),e("strong",[t._v("混用")]),t._v("带符号类型和无符号类型。")])])]),t._v(" "),e("h3",{attrs:{id:"类型转换-type-conversions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#类型转换-type-conversions"}},[t._v("#")]),t._v(" 类型转换（Type Conversions）")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("非布尔类型的算术值赋给布尔类型时： 0 -> "),e("code",[t._v("false")]),t._v("，!0 -> "),e("code",[t._v("true")]),t._v("。")])]),t._v(" "),e("li",[e("p",[t._v("布尔值赋给非布尔类型时："),e("code",[t._v("false")]),t._v(" -> 0，"),e("code",[t._v("true")]),t._v(" -> 1。")])]),t._v(" "),e("li",[e("p",[t._v("浮点数赋给整数类型时：结果值仅保留浮点数中的整数部分。")])]),t._v(" "),e("li",[e("p",[t._v("整数值赋给浮点类型时：小数部分记为0。如果该整数所占的空间超过了浮点类型的容量，精度可能有损失。")])]),t._v(" "),e("li",[e("p",[t._v("过大的值赋给"),e("strong",[t._v("无符号")]),t._v("类型时，结果是截取该值的后几个比特位。"),e("code",[t._v("0b11110001")]),t._v(" -> "),e("code",[t._v("0b0001")])])]),t._v(" "),e("li",[e("p",[t._v("赋给带符号类型一个超出它表示范围的值时，结果是未定义的（undefined）。")])])]),t._v(" "),e("div",{staticClass:"custom-block danger"},[e("p",{staticClass:"title"}),e("p",[t._v("避免无法预知和依赖于实现环境的行为。")])]),e("p",[t._v("无符号数不会小于0这一事实关系到循环的写法。")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// loop forever")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("unsigned")]),t._v(" u "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" u "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("u"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    std"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("cout "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" u "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" std"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("endl"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("当"),e("code",[t._v("u")]),t._v("等于0时，"),e("code",[t._v("--u")]),t._v("的结果将会是4294967295。")]),t._v(" "),e("h3",{attrs:{id:"字面值常量-literals"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#字面值常量-literals"}},[t._v("#")]),t._v(" 字面值常量（Literals）")]),t._v(" "),e("h4",{attrs:{id:"整型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#整型"}},[t._v("#")]),t._v(" 整型")]),t._v(" "),e("p",[t._v("八进制：以"),e("code",[t._v("0")]),t._v("开头的整数。")]),t._v(" "),e("p",[t._v("十六进制："),e("code",[t._v("0x")]),t._v("或"),e("code",[t._v("0X")]),t._v("开头的整数。")]),t._v(" "),e("p",[t._v("二进制："),e("code",[t._v("0b")]),t._v("或"),e("code",[t._v("0B")]),t._v("开头。")]),t._v(" "),e("p",[t._v("整型字面值具体的数据类型由它的值和符号决定。")]),t._v(" "),e("p",[t._v("cpp14新增了单引号"),e("code",[t._v("'")]),t._v("形式的数字分隔符，用于分组，不会影响数字的值。")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 按照书写形式，每3位分为一组")]),t._v("\nstd"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("cout "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0B1'101")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 输出"13"')]),t._v("\nstd"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("cout "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1'100'000")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 输出"1100000"')]),t._v("\n")])])]),e("h4",{attrs:{id:"浮点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#浮点"}},[t._v("#")]),t._v(" 浮点")]),t._v(" "),e("p",[t._v("浮点型字面值默认是一个"),e("code",[t._v("double")]),t._v("。")]),t._v(" "),e("h4",{attrs:{id:"字符"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#字符"}},[t._v("#")]),t._v(" 字符")]),t._v(" "),e("p",[e("code",[t._v("char")]),t._v("型：单引号括起来的一个字符。")]),t._v(" "),e("p",[t._v("字符串：双引号括起来的零个或多个字符。实质为"),e("code",[t._v("char")]),t._v("数组，编译器会在结尾处添加一个空字符"),e("code",[t._v("\\0")]),t._v("。")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("含义")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("转义字符")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("newline")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("\\n")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("horizontal tab")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("\\t")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("double quote")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v('\\"')])])])])]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[t._v("std"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("cout "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\n'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("      "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// prints a newline")]),t._v("\nstd"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("cout "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\tHi!\\n"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// prints a tab followd by "Hi!" and a newline')]),t._v("\n")])])]),e("p",[t._v("字符转义序列：可用"),e("code",[t._v("\\x")]),t._v("后跟任意个十六进制数字，或者"),e("code",[t._v("\\")]),t._v("后跟最多三个八进制数字，来表示一个字符。")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[t._v("std"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("cout "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hi \\x4dO\\115!\\n"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// prints Hi MOM! followed by a newline")]),t._v("\nstd"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("cout "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\115'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\n'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// prints M followed by a newline")]),t._v("\n")])])]),e("p",[t._v("添加特定的前缀和后缀，可以改变整型、浮点型和字符型字面值的默认类型。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(783),alt:"2-2"}})]),t._v(" "),e("p",[t._v("使用一个长整型字面值时，最好使用大写字母"),e("code",[t._v("L")]),t._v("进行标记，小写字母"),e("code",[t._v("l")]),t._v("和数字"),e("code",[t._v("1")]),t._v("容易混淆。")]),t._v(" "),e("h2",{attrs:{id:"变量-variables"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#变量-variables"}},[t._v("#")]),t._v(" 变量（Variables）")]),t._v(" "),e("p",[t._v("变量即地址的标签。")]),t._v(" "),e("h3",{attrs:{id:"基本概念"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基本概念"}},[t._v("#")]),t._v(" 基本概念")]),t._v(" "),e("p",[t._v("声明：在上下文中指定一个变量的名字，使得名字为程序所知，但并无创建实体（没有对应的内存）。")]),t._v(" "),e("p",[t._v("定义：创建实体，为变量分配内存地址。C语言中，声明包含了定义。")]),t._v(" "),e("p",[t._v("初始化：给定义后的变量的内存初始化值。")]),t._v(" "),e("p",[t._v("赋值：覆写变量的值。")]),t._v(" "),e("p",[t._v("通过"),e("code",[t._v("extern")]),t._v("可声明而不定义变量。"),e("code",[t._v("extern")]),t._v("语句不能初始化值，否则变为定义。")]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("extern")]),t._v("关键词的作用是将一个变量声明为"),e("strong",[t._v("外部链接")]),t._v("，提供给链接器一个符号，以此同其他编译单元链接。"),e("br"),t._v("\nC/C++的编译模式，是以每个独立的文件（包括包含的头文件）作为一个独立的单元进行编译的，里面定义的变量都默认为"),e("strong",[t._v("内部链接")]),t._v("。")])]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extern")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// declares but does not define i")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" j"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("      "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// declares and defines j")]),t._v("\n")])])]),e("p",[t._v("变量能仅被定义一次，但是可以被声明多次。")]),t._v(" "),e("p",[t._v("独立的模块会将声明和定义分开，声明部分称为"),e("strong",[t._v("头文件")]),t._v("。其他模块在使用该模块时，需先"),e("code",[t._v("include")]),t._v("引入。")]),t._v(" "),e("h3",{attrs:{id:"初始化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#初始化"}},[t._v("#")]),t._v(" 初始化")]),t._v(" "),e("p",[t._v("列表初始化：花括号初始化变量。当用于内置类型时，如果存在丢失信息的风险，编译器会报错。")]),t._v(" "),e("p",[t._v("默认初始化：定义变量时未指定初值。对于"),e("strong",[t._v("内置类型")]),t._v("，定义于函数体外的变量被初始化为0，函数体内部的变量其值未定义。")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" ld "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.1415926536")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" a"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ld"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ld"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// error: narrowing conversion required")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("c")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ld"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" d "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ld"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("      "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ok: but value will be truncated")]),t._v("\n")])])]),e("blockquote",[e("p",[t._v("建议初始化每一个内置类型的变量。")])]),t._v(" "),e("h3",{attrs:{id:"标识符-identifiers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#标识符-identifiers"}},[t._v("#")]),t._v(" 标识符（Identifiers）")]),t._v(" "),e("p",[t._v("定义：由字母、数字和下划线组成，以字母或下划线开头，大小写敏感。")]),t._v(" "),e("p",[t._v("标准保留：用户自定义的标识符不能连续出现两个下划线，也不能以下划线紧连大写字母开头。此外，定义在函数体外的标识符不能以下划线开头。")]),t._v(" "),e("p",[e("img",{attrs:{src:"Images/2-3.png",alt:"2-3"}})]),t._v(" "),e("h3",{attrs:{id:"名字的作用域-scope-of-a-name"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#名字的作用域-scope-of-a-name"}},[t._v("#")]),t._v(" 名字的作用域（Scope of a Name）")]),t._v(" "),e("p",[t._v("全局作用域：定义在函数体之外的名字。声明之后，该名字在"),e("mark",[t._v("整个程序范围内")]),t._v("都可使用。")]),t._v(" "),e("p",[t._v("内层作用域可访问外层作用域定义声明的名字，也可重新定义外层作用域已有的名字，此时新定义的名字将屏蔽外层作用域的名字。")]),t._v(" "),e("p",[t._v("作用域操作符"),e("code",[t._v("::")]),t._v("：访问指定作用域名字。左侧为空时，表明是全局作用域。")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token macro property"}},[e("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),e("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("<iostream>")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" reused "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// lobal scope")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" unique "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// block scope")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" reused "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// hides global reused")]),t._v("\n    std"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("cout "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" reused "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('" "')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" unique "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" std"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("endl"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 0, 0")]),t._v("\n    std"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("cout "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("reused "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('" "')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" unique "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" std"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("endl"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 42, 0")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("blockquote",[e("p",[t._v("如果函数有可能用到某个全局变量，则不宜再定义一个同名的局部变量。")])]),t._v(" "),e("h2",{attrs:{id:"复合类型-compound-type"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#复合类型-compound-type"}},[t._v("#")]),t._v(" 复合类型（Compound Type）")]),t._v(" "),e("h3",{attrs:{id:"引用-references"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#引用-references"}},[t._v("#")]),t._v(" 引用（References）")]),t._v(" "),e("p",[t._v("引用：为对象起了另外一个名字，即另一个地址标签。必须被初始化，初始时要绑定的是名字，不能是表达式。")]),t._v(" "),e("p",[t._v("引用类型不是对象，仅仅是别名。对引用的操作与对其绑定变量的操作一致。")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" ival "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("refVal "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ival"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("refVal2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("       "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// error")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("refVal3 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" refVal"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// still a reference to ival")]),t._v("\nrefVal1 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("       "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// now ival is 42")]),t._v("\n")])])]),e("p",[t._v("声明语句中引用的数据类型，实际被用于指定它所绑定的名字的类型。大部分情况下，两者应是一致的。")]),t._v(" "),e("h3",{attrs:{id:"指针-pointer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#指针-pointer"}},[t._v("#")]),t._v(" 指针（Pointer）")]),t._v(" "),e("p",[t._v("指针：一个对象，其内容存放另一个对象的地址。")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("ip1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("ip2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// both ip1 and ip2 are pointers to int")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" dp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("dp2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// dp2 is a pointer to double; dp is a double")]),t._v("\n")])])]),e("p",[t._v("引用不是对象，不能定义指向引用的指针。")]),t._v(" "),e("p",[t._v("声明语句中指针的数据类型，用于指定它所指向的对象类型。大部分情况下，两者应是一致的。")]),t._v(" "),e("p",[t._v("可用取址符"),e("code",[t._v("&")]),t._v("获取对象的地址，初始化指针。")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" ival "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("p "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("ival"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("可以使用解引用符"),e("code",[t._v("*")]),t._v("来访问所指对象。仅适用于"),e("strong",[t._v("有效指针")]),t._v("。")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" ival "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("p "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("ival"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("p "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("          "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 给所指对象赋值")]),t._v("\ncout "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("p"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 10")]),t._v("\n")])])]),e("p",[t._v("指针的值（即地址）应属于下列状态之一：")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("指向一个对象。")])]),t._v(" "),e("li",[e("p",[t._v("指向紧邻对象所占空间的下一个位置。")])]),t._v(" "),e("li",[e("p",[t._v("空指针，即指针没有指向任何对象。")])]),t._v(" "),e("li",[e("p",[t._v("无效指针，即上述情况之外的其他值。")])])]),t._v(" "),e("p",[t._v("试图拷贝或以其他方式访问无效指针的值都会引发错误。")]),t._v(" "),e("p",[t._v("空指针：不指向任何对象，可用"),e("code",[t._v("nullptr")]),t._v("来初始化。")]),t._v(" "),e("blockquote",[e("p",[t._v("旧版本程序通常使用"),e("code",[t._v("NULL")]),t._v("（预处理变量，定义于头文件"),e("code",[t._v("cstdlib")]),t._v("中，值为0）。")])]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("p1 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("nullptr")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// equivalent to int *p1 = 0;")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("p2 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// directly initializes p2 from the literal constant 0")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// must #include cstdlib")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("p3 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// equivalent to int *p3 = 0;")]),t._v("\n")])])]),e("blockquote",[e("p",[t._v("建议初始化所有指针。")])]),t._v(" "),e("p",[e("code",[t._v("void*")]),t._v("：一种特殊的指针类型，可以存放任意对象的地址，但不能直接操作"),e("code",[t._v("void*")]),t._v("指针所指的对象。")]),t._v(" "),e("h3",{attrs:{id:"理解复合类型的声明-understanding-compound-type-declarations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#理解复合类型的声明-understanding-compound-type-declarations"}},[t._v("#")]),t._v(" 理解复合类型的声明（Understanding Compound Type Declarations）")]),t._v(" "),e("p",[t._v("指向指针的指针：")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" ival "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("pi "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("ival"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// pi points to an int")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("ppi "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("pi"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ppi points to a pointer to an int")]),t._v("\n\n")])])]),e("p",[e("img",{attrs:{src:a(784),alt:"2-4"}})]),t._v(" "),e("p",[t._v("指向指针的引用：")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("p"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("         "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// p is a pointer to int")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("r "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" p"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// r is a reference to the pointer p")]),t._v("\nr "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("         "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// r refers to a pointer; assigning &i to r makes p point to i")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("r "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("         "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// dereferencing r yields i, the object to which p points; changes i to 0")]),t._v("\n")])])]),e("p",[t._v("面对一条比较复杂的指针或引用的声明语句时，从右向左阅读有助于弄清它的真实含义。")]),t._v(" "),e("h2",{attrs:{id:"const限定符-const-qualifier"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#const限定符-const-qualifier"}},[t._v("#")]),t._v(" const限定符（Const Qualifier）")]),t._v(" "),e("p",[e("code",[t._v("const")]),t._v("：表明变量是一"),e("strong",[t._v("常量")]),t._v("，不能被更改，因此必须被初始化。")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" bufSize "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// input buffer size")]),t._v("\nbufSize "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("      "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// error: attempt to write to const object")]),t._v("\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"title"},[t._v("实现")]),e("p",[t._v("基本上，"),e("code",[t._v("const")]),t._v("的不可变性由编译器来保证，因此可以通过直接向地址赋值的方式绕过该限制。但对于全局常量，其存储在不可写的内存区域，因此绕过限制依然会在运行时报错。")])]),e("p",[t._v("默认情况下，"),e("code",[t._v("const")]),t._v("对象被设定内部链接（"),e("strong",[t._v("本地符号")]),t._v("），只能被当前模块引用。")]),t._v(" "),e("p",[t._v("如果想在多个文件间共享"),e("code",[t._v("const")]),t._v("对象，其声明和定义前都应该添加"),e("code",[t._v("extern")]),t._v("关键字")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extern")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" bufSize "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("fcn")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// file_1.cc ")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extern")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" bufSize"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// file_1.h same bufSize as defined in file_1.cc")]),t._v("\n")])])]),e("h3",{attrs:{id:"const的引用-references-to-const"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#const的引用-references-to-const"}},[t._v("#")]),t._v(" const的引用（References to const）")]),t._v(" "),e("p",[t._v("对常量的引用。")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" ci "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("r1 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ci"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ok: both reference and underlying object are const")]),t._v("\nr1 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// error: r1 is a reference to const")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("r2 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ci"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// error: non const reference to a const object")]),t._v("\n")])])]),e("p",[t._v("大部分情况下，引用的类型要和与之绑定的对象严格匹配。但是有两个例外：")]),t._v(" "),e("ol",[e("li",[t._v("初始化常量引用时允许用任意表达式作为初始值，只要该表达式的结果能转换成引用的类型即可。")])]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("r2 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ok: r1 is a reference to const")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("r3 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" r1 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ok: r3 is a reference to const")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("r4 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" r2 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// error: r4 is a plain, non const reference")]),t._v("\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[t._v("允许为一个常量引用绑定"),e("strong",[t._v("非常量")]),t._v("的对象、字面值或者一般表达式。")])]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" dval "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.14")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("ri "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dval"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h3",{attrs:{id:"指针和const-pointers-and-const"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#指针和const-pointers-and-const"}},[t._v("#")]),t._v(" 指针和const（Pointers and const）")]),t._v(" "),e("p",[t._v("指向常量的指针可以指向一个非常量对象。")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" pi "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.14")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// pi is const; its value may not be changed")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("ptr "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("pi"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("          "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// error: ptr is a plain pointer")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("cptr "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("pi"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ok: cptr may point to a double that is const")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("cptr "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("         "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// error: cannot assign to *cptr")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" dval "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.14")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// dval is a double; its value can be changed")]),t._v("\ncptr "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("dval"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("       "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ok: but can't change dval through cptr")]),t._v("\n")])])]),e("p",[t._v("常量指针（const pointer）：指针本身是一个常量，必须初始化。")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" errNumb "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" curErr "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("errNumb"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// curErr will always point to errNumb")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" pi "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.14159")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" pip "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("pi"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// pip is a const pointer to a const object")]),t._v("\n")])])]),e("h3",{attrs:{id:"顶层const-top-level-const"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#顶层const-top-level-const"}},[t._v("#")]),t._v(" 顶层const（Top-Level const）")]),t._v(" "),e("p",[t._v("顶层"),e("code",[t._v("const")]),t._v("表示其本身是个常量，底层"),e("code",[t._v("const")]),t._v("表示其所指的对象是一个常量。")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" p1 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// top-level")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" ci "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("      "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// top-level")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("p2 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("ci"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// we can change p2; const is low-level")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" p3 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" p2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// right-most const is top-level, left-most is not")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("r "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ci"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("      "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// const in reference types is always low-level")]),t._v("\n")])])]),e("p",[t._v("当执行拷贝操作时，常量是顶层"),e("code",[t._v("const")]),t._v("还是底层"),e("code",[t._v("const")]),t._v("区别明显：")]),t._v(" "),e("ol",[e("li",[t._v("顶层"),e("code",[t._v("const")]),t._v("没有影响。拷贝操作不会改变被拷贝对象的值，因此拷入和拷出的对象是否是常量无关紧要。")])]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[t._v("i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ci"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ok: copying the value of ci; top-level const in ci is ignored")]),t._v("\np2 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" p3"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ok: pointed-to type matches; top-level const in p3 is ignored")]),t._v("\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[t._v("拷入和拷出的对象必须具有相同的底层"),e("code",[t._v("const")]),t._v("资格。或者两个对象的数据类型可以相互转换。一般来说，非常量可以转换成常量，反之则不行。")])]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("p "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" p3"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// error: p3 has a low-level const but p doesn't")]),t._v("\np2 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" p3"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ok: p2 has the same low-level const qualification as p3")]),t._v("\np2 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ok: we can convert int* to const int*")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("r "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ci"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// error: can't bind an ordinary int& to a const int object")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("r2 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ok: can bind const int& to plain int")]),t._v("\n")])])]),e("h3",{attrs:{id:"constexpr和常量表达式-constexpr-and-constant-expressions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#constexpr和常量表达式-constexpr-and-constant-expressions"}},[t._v("#")]),t._v(" constexpr和常量表达式（constexpr and Constant Expressions）")]),t._v(" "),e("p",[t._v("常量表达式：值"),e("mark",[t._v("不会改变")]),t._v("并且在"),e("mark",[t._v("编译过程")]),t._v("就能得到计算结果的表达式。")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" max_files "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("           "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// max_files is a constant expression")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" limit "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" max_files "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// limit is a constant expression")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" staff_size "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// staff_size is not a constant expression")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" sz "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_size")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// sz is not a constant expression")]),t._v("\n")])])]),e("p",[t._v("cpp11允许将变量声明为"),e("code",[t._v("constexpr")]),t._v("类型以便由编译器来验证变量的值是否是一个"),e("strong",[t._v("常量表达式")]),t._v("。")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("constexpr")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" mf "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("          "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 20 is a constant expression")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("constexpr")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" limit "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mf "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// mf + 1 is a constant expression")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("constexpr")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" sz "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("size")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("      "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ok only if size is a constexpr function")]),t._v("\n")])])]),e("p",[t._v("指针和引用都能定义成"),e("code",[t._v("constexpr")]),t._v("。"),e("code",[t._v("constexpr")]),t._v("指针的初始值必须是0、"),e("code",[t._v("nullptr")]),t._v("或者某个固定的地址。")]),t._v(" "),e("blockquote",[e("p",[t._v("函数体内定义的普通变量一般并非存放在固定地址中，因此"),e("code",[t._v("constexpr")]),t._v("指针不能指向这样的变量。相反，函数体外定义的变量地址固定不变，可以用来初始化"),e("code",[t._v("constexpr")]),t._v("指针。")])]),t._v(" "),e("p",[t._v("在"),e("code",[t._v("constexpr")]),t._v("声明中如果定义了一个指针，限定符"),e("code",[t._v("constexpr")]),t._v("仅对指针本身有效，与指针所指的对象无关。"),e("code",[t._v("constexpr")]),t._v("把它所定义的对象置为了顶层"),e("code",[t._v("const")]),t._v("。")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("constexpr")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("p "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("nullptr")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// p是指向int的const指针")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("constexpr")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("constexpr")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("cp "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// cp是指向const int的const指针")]),t._v("\n")])])]),e("p",[e("code",[t._v("const")]),t._v("和"),e("code",[t._v("constexpr")]),t._v("限定的值都是常量。但"),e("code",[t._v("constexpr")]),t._v("对象的值必须在编译期间确定，而"),e("code",[t._v("const")]),t._v("对象的值可以延迟到运行期间确定。")]),t._v(" "),e("p",[t._v("建议使用"),e("code",[t._v("constexpr")]),t._v("修饰表示数组大小的对象，因为数组的大小必须在编译期间确定且不能改变。")]),t._v(" "),e("h2",{attrs:{id:"处理类型-dealing-with-types"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#处理类型-dealing-with-types"}},[t._v("#")]),t._v(" 处理类型（Dealing with Types）")]),t._v(" "),e("h3",{attrs:{id:"类型别名-type-aliases"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#类型别名-type-aliases"}},[t._v("#")]),t._v(" 类型别名（Type Aliases）")]),t._v(" "),e("p",[t._v("类型别名是某种类型的同义词，传统方法是使用"),e("code",[t._v("typedef")]),t._v("定义类型别名。")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typedef")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" wages"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// wages is a synonym for double")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typedef")]),t._v(" wages base"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("p"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// base is a synonym for double, p for double*")]),t._v("\n")])])]),e("p",[t._v("cpp11使用关键字"),e("code",[t._v("using")]),t._v("进行别名声明。")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("using")]),t._v(" SI "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Sales_item"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// SI is a synonym for Sales_item")]),t._v("\n")])])]),e("h3",{attrs:{id:"auto类型说明符-the-auto-type-specifier"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#auto类型说明符-the-auto-type-specifier"}},[t._v("#")]),t._v(" auto类型说明符（The auto Type Specifier）")]),t._v(" "),e("p",[t._v("cpp11新增"),e("code",[t._v("auto")]),t._v("类型说明符，能让编译器自动分析表达式所属的类型。被定义的变量必须有初始值。")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("auto")]),t._v(" item "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" val1 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" val2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// item initialized to the result of val1 + val2")]),t._v("\n")])])]),e("p",[t._v("编译器推断出来的"),e("code",[t._v("auto")]),t._v("类型有时和初始值的类型并不完全一样。")]),t._v(" "),e("ol",[e("li",[t._v("当引用被用作初始值时，编译器以引用对象的类型作为"),e("code",[t._v("auto")]),t._v("的类型。")])]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("r "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("auto")]),t._v(" a "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" r"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// a is an int (r is an alias for i, which has type int)")]),t._v("\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[e("code",[t._v("auto")]),t._v("一般会忽略顶层"),e("code",[t._v("const")]),t._v("。")])]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" ci "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("cr "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ci"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("auto")]),t._v(" b "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ci"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// b is an int (top-level const in ci is dropped)")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("auto")]),t._v(" c "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" cr"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// c is an int (cr is an alias for ci whose const is top-level)")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("auto")]),t._v(" d "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// d is an int*(& of an int object is int*)")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("auto")]),t._v(" e "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("ci"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// e is const int*(& of a const object is low-level const)")]),t._v("\n")])])]),e("p",[t._v("如果希望推断出的"),e("code",[t._v("auto")]),t._v("类型是一个顶层"),e("code",[t._v("const")]),t._v("，需要显式指定"),e("code",[t._v("const auto")]),t._v("。")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("auto")]),t._v(" f "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ci"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// deduced type of ci is int; f has type const int")]),t._v("\n")])])]),e("p",[t._v("设置类型为"),e("code",[t._v("auto")]),t._v("的引用时，原来的初始化规则仍然适用，初始值中的顶层常量属性仍然保留。")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("auto")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("g "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ci"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// g is a const int& that is bound to ci")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("auto")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("h "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// error: we can't bind a plain reference to a literal")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("auto")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("j "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ok: we can bind a const reference to a literal")]),t._v("\n")])])]),e("h3",{attrs:{id:"decltype类型指示符-the-decltype-type-specifier"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#decltype类型指示符-the-decltype-type-specifier"}},[t._v("#")]),t._v(" decltype类型指示符（The decltype Type Specifier）")]),t._v(" "),e("p",[t._v("cpp11新增"),e("code",[t._v("decltype")]),t._v("类型指示符，作用是选择并返回操作数的数据类型，此过程中编译器"),e("mark",[t._v("不实际计算表达式")]),t._v("的值。")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("decltype")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("f")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" sum "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" x"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// sum has whatever type f returns")]),t._v("\n")])])]),e("p",[e("code",[t._v("decltype")]),t._v("处理顶层"),e("code",[t._v("const")]),t._v("和引用的方式与"),e("code",[t._v("auto")]),t._v("有些不同，如果"),e("code",[t._v("decltype")]),t._v("使用的表达式是一个变量，则"),e("code",[t._v("decltype")]),t._v("返回该变量的类型（包括顶层"),e("code",[t._v("const")]),t._v("和引用）。")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" ci "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("cj "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ci"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("decltype")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ci"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" x "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// x has type const int")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("decltype")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cj"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" y "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" x"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// y has type const int& and is bound to x")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("decltype")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cj"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" z"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// error: z is a reference and must be initialized")]),t._v("\n")])])]),e("p",[t._v("如果"),e("code",[t._v("decltype")]),t._v("使用的表达式不是一个变量，则"),e("code",[t._v("decltype")]),t._v("返回表达式结果对应的类型。如果表达式的内容是解引用操作，则"),e("code",[t._v("decltype")]),t._v("将得到引用类型。如果给变量加上了一层或多层括号，则"),e("code",[t._v("decltype")]),t._v("会得到引用类型，因为变量是一种可以作为赋值语句左值的特殊表达式。")]),t._v(" "),e("p",[e("code",[t._v("decltype((var))")]),t._v("的结果永远是引用，而"),e("code",[t._v("decltype(var)")]),t._v("的结果只有当"),e("code",[t._v("var")]),t._v("本身是一个引用时才会是引用。")]),t._v(" "),e("h2",{attrs:{id:"自定义数据结构-defining-our-own-data-structures"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#自定义数据结构-defining-our-own-data-structures"}},[t._v("#")]),t._v(" 自定义数据结构（Defining Our Own Data Structures）")]),t._v(" "),e("p",[t._v("cpp11规定可以为类的数据成员提供一个"),e("strong",[t._v("类内初始值")]),t._v("。创建对象时，类内初始值将用于初始化数据成员，没有初始值的成员将被默认初始化。")]),t._v(" "),e("p",[t._v("类内初始值不能使用圆括号。")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"title"},[t._v("头文件")]),e("p",[t._v("通常包含那些只能被定义一次的实体，如类、"),e("code",[t._v("const")]),t._v("和"),e("code",[t._v("constexpr")]),t._v("变量。\n头文件一旦改变，相关的源文件必须重新编译以获取更新之后的声明。")])]),e("p",[t._v("头文件保护符（header guard）依赖于预处理变量（preprocessor variable）。预处理变量有两种状态：已定义和未定义。"),e("code",[t._v("#define")]),t._v("指令把一个名字设定为预处理变量。"),e("code",[t._v("#ifdef")]),t._v("指令当且仅当变量已定义时为真，"),e("code",[t._v("#ifndef")]),t._v("指令当且仅当变量未定义时为真。一旦检查结果为真，则执行后续操作直至遇到"),e("code",[t._v("#endif")]),t._v("指令为止。")]),t._v(" "),e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{pre:!0,attrs:{class:"token macro property"}},[e("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),e("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("ifndef")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token expression"}},[t._v("SALES_DATA_H")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token macro property"}},[e("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),e("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("define")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token macro-name"}},[t._v("SALES_DATA_H")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token macro property"}},[e("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),e("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("<string>")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Sales_data")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    std"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("string bookNo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("unsigned")]),t._v(" units_sold "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" revenue "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 类定义的最后应该加上分号")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token macro property"}},[e("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),e("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("endif")])]),t._v("\n")])])]),e("p",[t._v("在高级版本的IDE环境中，可以直接使用"),e("code",[t._v("#pragma once")]),t._v("命令来防止头文件的重复包含。")]),t._v(" "),e("p",[t._v("预处理变量无视cpp语言中关于作用域的规则。")]),t._v(" "),e("p",[t._v("整个程序中的预处理变量，包括头文件保护符必须唯一。预处理变量的名字一般均为大写。")]),t._v(" "),e("p",[t._v("头文件即使目前还没有被包含在任何其他头文件中，也应该设置保护符。")])])}),[],!1,null,null,null);s.default=n.exports},782:function(t,s,a){t.exports=a.p+"assets/img/2-1.9743052d.png"},783:function(t,s,a){t.exports=a.p+"assets/img/2-2.0080f210.png"},784:function(t,s){t.exports="data:image/png;base64,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"}}]);