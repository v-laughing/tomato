(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{2236:function(t,a,s){"use strict";s.r(a);var n=s(7),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("ul",[n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#一概览"}},[t._v("一、概览")])],1),t._v(" "),n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#二磁盘操作"}},[t._v("二、磁盘操作")])],1),t._v(" "),n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#三字节操作"}},[t._v("三、字节操作")]),t._v(" "),n("ul",[n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#实现文件复制"}},[t._v("实现文件复制")])],1),t._v(" "),n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#装饰者模式"}},[t._v("装饰者模式")])],1)])],1),t._v(" "),n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#四字符操作"}},[t._v("四、字符操作")]),t._v(" "),n("ul",[n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#编码与解码"}},[t._v("编码与解码")])],1),t._v(" "),n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#string-的编码方式"}},[t._v("String 的编码方式")])],1),t._v(" "),n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#reader-与-writer"}},[t._v("Reader 与 Writer")])],1),t._v(" "),n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#实现逐行输出文本文件的内容"}},[t._v("实现逐行输出文本文件的内容")])],1)])],1),t._v(" "),n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#五对象操作"}},[t._v("五、对象操作")]),t._v(" "),n("ul",[n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#序列化"}},[t._v("序列化")])],1),t._v(" "),n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#serializable"}},[t._v("Serializable")])],1),t._v(" "),n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#transient"}},[t._v("transient")])],1)])],1),t._v(" "),n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#六网络操作"}},[t._v("六、网络操作")]),t._v(" "),n("ul",[n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#inetaddress"}},[t._v("InetAddress")])],1),t._v(" "),n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#url"}},[t._v("URL")])],1),t._v(" "),n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#sockets"}},[t._v("Sockets")])],1),t._v(" "),n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#datagram"}},[t._v("Datagram")])],1)])],1),t._v(" "),n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#七nio"}},[t._v("七、NIO")]),t._v(" "),n("ul",[n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#流与块"}},[t._v("流与块")])],1),t._v(" "),n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#通道与缓冲区"}},[t._v("通道与缓冲区")])],1),t._v(" "),n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#缓冲区状态变量"}},[t._v("缓冲区状态变量")])],1),t._v(" "),n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#文件-nio-实例"}},[t._v("文件 NIO 实例")])],1),t._v(" "),n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#选择器"}},[t._v("选择器")])],1),t._v(" "),n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#套接字-nio-实例"}},[t._v("套接字 NIO 实例")])],1),t._v(" "),n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#内存映射文件"}},[t._v("内存映射文件")])],1),t._v(" "),n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#对比"}},[t._v("对比")])],1)])],1),t._v(" "),n("li",[n("RouterLink",{attrs:{to:"/cs/java/Java IO.html#八参考资料"}},[t._v("八、参考资料")])],1)]),t._v(" "),n("h1",{attrs:{id:"一、概览"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一、概览"}},[t._v("#")]),t._v(" 一、概览")]),t._v(" "),n("p",[t._v("Java 的 I/O 大概可以分成以下几类：")]),t._v(" "),n("ul",[n("li",[t._v("磁盘操作：File")]),t._v(" "),n("li",[t._v("字节操作：InputStream 和 OutputStream")]),t._v(" "),n("li",[t._v("字符操作：Reader 和 Writer")]),t._v(" "),n("li",[t._v("对象操作：Serializable")]),t._v(" "),n("li",[t._v("网络操作：Socket")]),t._v(" "),n("li",[t._v("新的输入/输出：NIO")])]),t._v(" "),n("h1",{attrs:{id:"二、磁盘操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二、磁盘操作"}},[t._v("#")]),t._v(" 二、磁盘操作")]),t._v(" "),n("p",[t._v("File 类可以用于表示文件和目录的信息，但是它不表示文件的内容。")]),t._v(" "),n("p",[t._v("递归地列出一个目录下所有文件：")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("listAllFiles")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("File")]),t._v(" dir"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dir "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("dir"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("exists")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dir"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isFile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dir"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("File")]),t._v(" file "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" dir"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("listFiles")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("listAllFiles")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("从 Java7 开始，可以使用 Paths 和 Files 代替 File。")]),t._v(" "),n("h1",{attrs:{id:"三、字节操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三、字节操作"}},[t._v("#")]),t._v(" 三、字节操作")]),t._v(" "),n("h2",{attrs:{id:"实现文件复制"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#实现文件复制"}},[t._v("#")]),t._v(" 实现文件复制")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("copyFile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" src"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" dist"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IOException")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileInputStream")]),t._v(" in "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileInputStream")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("src"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileOutputStream")]),t._v(" out "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileOutputStream")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dist"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("byte")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" buffer "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("byte")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" cnt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// read() 最多读取 buffer.length 个字节")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回的是实际读取的个数")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回 -1 的时候表示读到 eof，即文件尾")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cnt "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" in"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("read")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("buffer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" buffer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("buffer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cnt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    in"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"装饰者模式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#装饰者模式"}},[t._v("#")]),t._v(" 装饰者模式")]),t._v(" "),n("p",[t._v("Java I/O 使用了装饰者模式来实现。以 InputStream 为例，")]),t._v(" "),n("ul",[n("li",[t._v("InputStream 是抽象组件；")]),t._v(" "),n("li",[t._v("FileInputStream 是 InputStream 的子类，属于具体组件，提供了字节流的输入操作；")]),t._v(" "),n("li",[t._v("FilterInputStream 属于抽象装饰者，装饰者用于装饰组件，为组件提供额外的功能。例如 BufferedInputStream 为 FileInputStream 提供缓存的功能。")])]),t._v(" "),n("p",[n("img",{attrs:{src:s(860),alt:"avatar | 650"}}),n("br")]),t._v(" "),n("p",[t._v("实例化一个具有缓存功能的字节流对象时，只需要在 FileInputStream 对象上再套一层 BufferedInputStream 对象即可。")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileInputStream")]),t._v(" fileInputStream "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileInputStream")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("filePath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BufferedInputStream")]),t._v(" bufferedInputStream "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BufferedInputStream")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fileInputStream"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("DataInputStream 装饰者提供了对更多数据类型进行输入的操作，比如 int、double 等基本类型。")]),t._v(" "),n("h1",{attrs:{id:"四、字符操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#四、字符操作"}},[t._v("#")]),t._v(" 四、字符操作")]),t._v(" "),n("h2",{attrs:{id:"编码与解码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#编码与解码"}},[t._v("#")]),t._v(" 编码与解码")]),t._v(" "),n("p",[t._v("编码就是把字符转换为字节，而解码是把字节重新组合成字符。")]),t._v(" "),n("p",[t._v("如果编码和解码过程使用不同的编码方式那么就出现了乱码。")]),t._v(" "),n("ul",[n("li",[t._v("GBK 编码中，中文字符占 2 个字节，英文字符占 1 个字节；")]),t._v(" "),n("li",[t._v("UTF-8 编码中，中文字符占 3 个字节，英文字符占 1 个字节；")]),t._v(" "),n("li",[t._v("UTF-16be 编码中，中文字符和英文字符都占 2 个字节。")])]),t._v(" "),n("p",[t._v("UTF-16be 中的 be 指的是 Big Endian，也就是大端。相应地也有 UTF-16le，le 指的是 Little Endian，也就是小端。")]),t._v(" "),n("p",[t._v("Java 的内存编码使用双字节编码 UTF-16be，这不是指 Java 只支持这一种编码方式，而是说 char 这种类型使用 UTF-16be 进行编码。char 类型占 16 位，也就是两个字节，Java 使用这种双字节编码是为了让一个中文或者一个英文都能使用一个 char 来存储。")]),t._v(" "),n("h2",{attrs:{id:"string-的编码方式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#string-的编码方式"}},[t._v("#")]),t._v(" String 的编码方式")]),t._v(" "),n("p",[t._v("String 可以看成一个字符序列，可以指定一个编码方式将它编码为字节序列，也可以指定一个编码方式将一个字节序列解码为 String。")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" str1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"中文"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("byte")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" bytes "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" str1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBytes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"UTF-8"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" str2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bytes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"UTF-8"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("在调用无参数 getBytes() 方法时，默认的编码方式不是 UTF-16be。双字节编码的好处是可以使用一个 char 存储中文和英文，而将 String 转为 bytes[] 字节数组就不再需要这个好处，因此也就不再需要双字节编码。getBytes() 的默认编码方式与平台有关，一般为 UTF-8。")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("byte")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" bytes "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" str1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBytes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"reader-与-writer"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#reader-与-writer"}},[t._v("#")]),t._v(" Reader 与 Writer")]),t._v(" "),n("p",[t._v("不管是磁盘还是网络传输，最小的存储单元都是字节，而不是字符。但是在程序中操作的通常是字符形式的数据，因此需要提供对字符进行操作的方法。")]),t._v(" "),n("ul",[n("li",[t._v("InputStreamReader 实现从字节流解码成字符流；")]),t._v(" "),n("li",[t._v("OutputStreamWriter 实现字符流编码成为字节流。")])]),t._v(" "),n("h2",{attrs:{id:"实现逐行输出文本文件的内容"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#实现逐行输出文本文件的内容"}},[t._v("#")]),t._v(" 实现逐行输出文本文件的内容")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFileContent")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" filePath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IOException")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileReader")]),t._v(" fileReader "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileReader")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("filePath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BufferedReader")]),t._v(" bufferedReader "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BufferedReader")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fileReader"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" line"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("line "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" bufferedReader"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("readLine")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("line"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 装饰者模式使得 BufferedReader 组合了一个 Reader 对象")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在调用 BufferedReader 的 close() 方法时会去调用 Reader 的 close() 方法")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 因此只要一个 close() 调用即可")]),t._v("\n    bufferedReader"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h1",{attrs:{id:"五、对象操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#五、对象操作"}},[t._v("#")]),t._v(" 五、对象操作")]),t._v(" "),n("h2",{attrs:{id:"序列化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#序列化"}},[t._v("#")]),t._v(" 序列化")]),t._v(" "),n("p",[t._v("序列化就是将一个对象转换成字节序列，方便存储和传输。")]),t._v(" "),n("ul",[n("li",[t._v("序列化：ObjectOutputStream.writeObject()")]),t._v(" "),n("li",[t._v("反序列化：ObjectInputStream.readObject()")])]),t._v(" "),n("p",[t._v("不会对静态变量进行序列化，因为序列化只是保存对象的状态，静态变量属于类的状态。")]),t._v(" "),n("h2",{attrs:{id:"serializable"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#serializable"}},[t._v("#")]),t._v(" Serializable")]),t._v(" "),n("p",[t._v("序列化的类需要实现 Serializable 接口，它只是一个标准，没有任何方法需要实现，但是如果不去实现它的话而进行序列化，会抛出异常。")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IOException")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ClassNotFoundException")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("A")]),t._v(" a1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("A")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"abc"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" objectFile "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"file/a1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ObjectOutputStream")]),t._v(" objectOutputStream "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ObjectOutputStream")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileOutputStream")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("objectFile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    objectOutputStream"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("writeObject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    objectOutputStream"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ObjectInputStream")]),t._v(" objectInputStream "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ObjectInputStream")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileInputStream")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("objectFile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("A")]),t._v(" a2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("A")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" objectInputStream"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("readObject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    objectInputStream"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("A")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Serializable")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" x"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" y"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("A")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" x"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" y"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" x"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" y"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"x = "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" x "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"  "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"y = "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" y"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"transient"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#transient"}},[t._v("#")]),t._v(" transient")]),t._v(" "),n("p",[t._v("transient 关键字可以使一些属性不会被序列化。")]),t._v(" "),n("p",[t._v("ArrayList 中存储数据的数组 elementData 是用 transient 修饰的，因为这个数组是动态扩展的，并不是所有的空间都被使用，因此就不需要所有的内容都被序列化。通过重写序列化和反序列化方法，使得可以只序列化数组中有内容的那部分数据。")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("transient")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" elementData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h1",{attrs:{id:"六、网络操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#六、网络操作"}},[t._v("#")]),t._v(" 六、网络操作")]),t._v(" "),n("p",[t._v("Java 中的网络支持：")]),t._v(" "),n("ul",[n("li",[t._v("InetAddress：用于表示网络上的硬件资源，即 IP 地址；")]),t._v(" "),n("li",[t._v("URL：统一资源定位符；")]),t._v(" "),n("li",[t._v("Sockets：使用 TCP 协议实现网络通信；")]),t._v(" "),n("li",[t._v("Datagram：使用 UDP 协议实现网络通信。")])]),t._v(" "),n("h2",{attrs:{id:"inetaddress"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#inetaddress"}},[t._v("#")]),t._v(" InetAddress")]),t._v(" "),n("p",[t._v("没有公有的构造函数，只能通过静态方法来创建实例。")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InetAddress")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getByName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" host"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InetAddress")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getByAddress")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("byte")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" address"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"url"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#url"}},[t._v("#")]),t._v(" URL")]),t._v(" "),n("p",[t._v("可以直接从 URL 中读取字节流数据。")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IOException")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),t._v(" url "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("URL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://www.baidu.com"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 字节流 */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InputStream")]),t._v(" is "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("openStream")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 字符流 */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InputStreamReader")]),t._v(" isr "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InputStreamReader")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("is"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"utf-8"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 提供缓存功能 */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BufferedReader")]),t._v(" br "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BufferedReader")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("isr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" line"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("line "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" br"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("readLine")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("line"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    br"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"sockets"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sockets"}},[t._v("#")]),t._v(" Sockets")]),t._v(" "),n("ul",[n("li",[t._v("ServerSocket：服务器端类")]),t._v(" "),n("li",[t._v("Socket：客户端类")]),t._v(" "),n("li",[t._v("服务器和客户端通过 InputStream 和 OutputStream 进行输入输出。")])]),t._v(" "),n("p",[n("img",{attrs:{src:s(861),alt:"avatar | 550"}}),n("br")]),t._v(" "),n("h2",{attrs:{id:"datagram"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#datagram"}},[t._v("#")]),t._v(" Datagram")]),t._v(" "),n("ul",[n("li",[t._v("DatagramSocket：通信类")]),t._v(" "),n("li",[t._v("DatagramPacket：数据包类")])]),t._v(" "),n("h1",{attrs:{id:"七、nio"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#七、nio"}},[t._v("#")]),t._v(" 七、NIO")]),t._v(" "),n("p",[t._v("新的输入/输出 (NIO) 库是在 JDK 1.4 中引入的，弥补了原来的 I/O 的不足，提供了高速的、面向块的 I/O。")]),t._v(" "),n("h2",{attrs:{id:"流与块"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#流与块"}},[t._v("#")]),t._v(" 流与块")]),t._v(" "),n("p",[t._v("I/O 与 NIO 最重要的区别是数据打包和传输的方式，I/O 以流的方式处理数据，而 NIO 以块的方式处理数据。")]),t._v(" "),n("p",[t._v("面向流的 I/O 一次处理一个字节数据：一个输入流产生一个字节数据，一个输出流消费一个字节数据。为流式数据创建过滤器非常容易，链接几个过滤器，以便每个过滤器只负责复杂处理机制的一部分。不利的一面是，面向流的 I/O 通常相当慢。")]),t._v(" "),n("p",[t._v("面向块的 I/O 一次处理一个数据块，按块处理数据比按流处理数据要快得多。但是面向块的 I/O 缺少一些面向流的 I/O 所具有的优雅性和简单性。")]),t._v(" "),n("p",[t._v("I/O 包和 NIO 已经很好地集成了，java.io.* 已经以 NIO 为基础重新实现了，所以现在它可以利用 NIO 的一些特性。例如，java.io.* 包中的一些类包含以块的形式读写数据的方法，这使得即使在面向流的系统中，处理速度也会更快。")]),t._v(" "),n("h2",{attrs:{id:"通道与缓冲区"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#通道与缓冲区"}},[t._v("#")]),t._v(" 通道与缓冲区")]),t._v(" "),n("h3",{attrs:{id:"_1-通道"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-通道"}},[t._v("#")]),t._v(" 1. 通道")]),t._v(" "),n("p",[t._v("通道 Channel 是对原 I/O 包中的流的模拟，可以通过它读取和写入数据。")]),t._v(" "),n("p",[t._v("通道与流的不同之处在于，流只能在一个方向上移动(一个流必须是 InputStream 或者 OutputStream 的子类)，而通道是双向的，可以用于读、写或者同时用于读写。")]),t._v(" "),n("p",[t._v("通道包括以下类型：")]),t._v(" "),n("ul",[n("li",[t._v("FileChannel：从文件中读写数据；")]),t._v(" "),n("li",[t._v("DatagramChannel：通过 UDP 读写网络中数据；")]),t._v(" "),n("li",[t._v("SocketChannel：通过 TCP 读写网络中数据；")]),t._v(" "),n("li",[t._v("ServerSocketChannel：可以监听新进来的 TCP 连接，对每一个新进来的连接都会创建一个 SocketChannel。")])]),t._v(" "),n("h3",{attrs:{id:"_2-缓冲区"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-缓冲区"}},[t._v("#")]),t._v(" 2. 缓冲区")]),t._v(" "),n("p",[t._v("发送给一个通道的所有数据都必须首先放到缓冲区中，同样地，从通道中读取的任何数据都要先读到缓冲区中。也就是说，不会直接对通道进行读写数据，而是要先经过缓冲区。")]),t._v(" "),n("p",[t._v("缓冲区实质上是一个数组，但它不仅仅是一个数组。缓冲区提供了对数据的结构化访问，而且还可以跟踪系统的读/写进程。")]),t._v(" "),n("p",[t._v("缓冲区包括以下类型：")]),t._v(" "),n("ul",[n("li",[t._v("ByteBuffer")]),t._v(" "),n("li",[t._v("CharBuffer")]),t._v(" "),n("li",[t._v("ShortBuffer")]),t._v(" "),n("li",[t._v("IntBuffer")]),t._v(" "),n("li",[t._v("LongBuffer")]),t._v(" "),n("li",[t._v("FloatBuffer")]),t._v(" "),n("li",[t._v("DoubleBuffer")])]),t._v(" "),n("h2",{attrs:{id:"缓冲区状态变量"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#缓冲区状态变量"}},[t._v("#")]),t._v(" 缓冲区状态变量")]),t._v(" "),n("ul",[n("li",[t._v("capacity：最大容量；")]),t._v(" "),n("li",[t._v("position：当前已经读写的字节数；")]),t._v(" "),n("li",[t._v("limit：还可以读写的字节数。")])]),t._v(" "),n("p",[t._v("状态变量的改变过程举例：")]),t._v(" "),n("p",[t._v("① 新建一个大小为 8 个字节的缓冲区，此时 position 为 0，而 limit = capacity = 8。capacity 变量不会改变，下面的讨论会忽略它。")]),t._v(" "),n("p",[n("img",{attrs:{src:s(862),alt:"avatar"}}),n("br")]),t._v(" "),n("p",[t._v("② 从输入通道中读取 5 个字节数据写入缓冲区中，此时 position 为 5，limit 保持不变。")]),t._v(" "),n("p",[n("img",{attrs:{src:s(863),alt:"avatar"}}),n("br")]),t._v(" "),n("p",[t._v("③ 在将缓冲区的数据写到输出通道之前，需要先调用 flip() 方法，这个方法将 limit 设置为当前 position，并将 position 设置为 0。")]),t._v(" "),n("p",[n("img",{attrs:{src:s(864),alt:"avatar"}}),n("br")]),t._v(" "),n("p",[t._v("④ 从缓冲区中取 4 个字节到输出缓冲中，此时 position 设为 4。")]),t._v(" "),n("p",[n("img",{attrs:{src:s(865),alt:"avatar"}}),n("br")]),t._v(" "),n("p",[t._v("⑤ 最后需要调用 clear() 方法来清空缓冲区，此时 position 和 limit 都被设置为最初位置。")]),t._v(" "),n("p",[n("img",{attrs:{src:s(866),alt:"avatar"}}),n("br")]),t._v(" "),n("h2",{attrs:{id:"文件-nio-实例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#文件-nio-实例"}},[t._v("#")]),t._v(" 文件 NIO 实例")]),t._v(" "),n("p",[t._v("以下展示了使用 NIO 快速复制文件的实例：")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("fastCopy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" src"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" dist"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IOException")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 获得源文件的输入字节流 */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileInputStream")]),t._v(" fin "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileInputStream")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("src"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 获取输入字节流的文件通道 */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileChannel")]),t._v(" fcin "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getChannel")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 获取目标文件的输出字节流 */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileOutputStream")]),t._v(" fout "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileOutputStream")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dist"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 获取输出字节流的文件通道 */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileChannel")]),t._v(" fcout "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fout"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getChannel")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 为缓冲区分配 1024 个字节 */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ByteBuffer")]),t._v(" buffer "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ByteBuffer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("allocateDirect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 从输入通道中读取数据到缓冲区中 */")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" r "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fcin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("read")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("buffer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* read() 返回 -1 表示 EOF */")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("r "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 切换读写 */")]),t._v("\n        buffer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("flip")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 把缓冲区的内容写入输出文件中 */")]),t._v("\n        fcout"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("buffer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 清空缓冲区 */")]),t._v("\n        buffer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("clear")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"选择器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#选择器"}},[t._v("#")]),t._v(" 选择器")]),t._v(" "),n("p",[t._v("NIO 常常被叫做非阻塞 IO，主要是因为 NIO 在网络通信中的非阻塞特性被广泛使用。")]),t._v(" "),n("p",[t._v("NIO 实现了 IO 多路复用中的 Reactor 模型，一个线程 Thread 使用一个选择器 Selector 通过轮询的方式去监听多个通道 Channel 上的事件，从而让一个线程就可以处理多个事件。")]),t._v(" "),n("p",[t._v("通过配置监听的通道 Channel 为非阻塞，那么当 Channel 上的 IO 事件还未到达时，就不会进入阻塞状态一直等待，而是继续轮询其它 Channel，找到 IO 事件已经到达的 Channel 执行。")]),t._v(" "),n("p",[t._v("因为创建和切换线程的开销很大，因此使用一个线程来处理多个事件而不是一个线程处理一个事件，对于 IO 密集型的应用具有很好地性能。")]),t._v(" "),n("p",[t._v("应该注意的是，只有套接字 Channel 才能配置为非阻塞，而 FileChannel 不能，为 FileChannel 配置非阻塞也没有意义。")]),t._v(" "),n("p",[n("img",{attrs:{src:s(867),alt:"avatar | 350"}}),n("br")]),t._v(" "),n("h3",{attrs:{id:"_1-创建选择器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建选择器"}},[t._v("#")]),t._v(" 1. 创建选择器")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Selector")]),t._v(" selector "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Selector")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("open")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h3",{attrs:{id:"_2-将通道注册到选择器上"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-将通道注册到选择器上"}},[t._v("#")]),t._v(" 2. 将通道注册到选择器上")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ServerSocketChannel")]),t._v(" ssChannel "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ServerSocketChannel")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("open")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nssChannel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("configureBlocking")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nssChannel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("register")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("selector"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SelectionKey")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("OP_ACCEPT"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("通道必须配置为非阻塞模式，否则使用选择器就没有任何意义了，因为如果通道在某个事件上被阻塞，那么服务器就不能响应其它事件，必须等待这个事件处理完毕才能去处理其它事件，显然这和选择器的作用背道而驰。")]),t._v(" "),n("p",[t._v("在将通道注册到选择器上时，还需要指定要注册的具体事件，主要有以下几类：")]),t._v(" "),n("ul",[n("li",[t._v("SelectionKey.OP_CONNECT")]),t._v(" "),n("li",[t._v("SelectionKey.OP_ACCEPT")]),t._v(" "),n("li",[t._v("SelectionKey.OP_READ")]),t._v(" "),n("li",[t._v("SelectionKey.OP_WRITE")])]),t._v(" "),n("p",[t._v("它们在 SelectionKey 的定义如下：")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" OP_READ "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" OP_WRITE "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" OP_CONNECT "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" OP_ACCEPT "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("可以看出每个事件可以被当成一个位域，从而组成事件集整数。例如：")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" interestSet "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SelectionKey")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("OP_READ "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SelectionKey")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("OP_WRITE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h3",{attrs:{id:"_3-监听事件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-监听事件"}},[t._v("#")]),t._v(" 3. 监听事件")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" num "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" selector"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("select")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("使用 select() 来监听到达的事件，它会一直阻塞直到有至少一个事件到达。")]),t._v(" "),n("h3",{attrs:{id:"_4-获取到达的事件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-获取到达的事件"}},[t._v("#")]),t._v(" 4. 获取到达的事件")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Set")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SelectionKey")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" keys "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" selector"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("selectedKeys")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Iterator")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SelectionKey")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" keyIterator "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" keys"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("iterator")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("keyIterator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasNext")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SelectionKey")]),t._v(" key "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" keyIterator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isAcceptable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isReadable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    keyIterator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"_5-事件循环"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-事件循环"}},[t._v("#")]),t._v(" 5. 事件循环")]),t._v(" "),n("p",[t._v("因为一次 select() 调用不能处理完所有的事件，并且服务器端有可能需要一直监听事件，因此服务器端处理事件的代码一般会放在一个死循环内。")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" num "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" selector"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("select")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Set")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SelectionKey")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" keys "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" selector"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("selectedKeys")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Iterator")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SelectionKey")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" keyIterator "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" keys"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("iterator")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("keyIterator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasNext")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SelectionKey")]),t._v(" key "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" keyIterator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isAcceptable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isReadable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        keyIterator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"套接字-nio-实例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#套接字-nio-实例"}},[t._v("#")]),t._v(" 套接字 NIO 实例")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NIOServer")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IOException")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Selector")]),t._v(" selector "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Selector")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("open")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ServerSocketChannel")]),t._v(" ssChannel "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ServerSocketChannel")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("open")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        ssChannel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("configureBlocking")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        ssChannel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("register")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("selector"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SelectionKey")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("OP_ACCEPT"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ServerSocket")]),t._v(" serverSocket "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ssChannel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("socket")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InetSocketAddress")]),t._v(" address "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InetSocketAddress")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"127.0.0.1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8888")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        serverSocket"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("address"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n            selector"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("select")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Set")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SelectionKey")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" keys "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" selector"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("selectedKeys")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Iterator")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SelectionKey")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" keyIterator "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" keys"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("iterator")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("keyIterator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasNext")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n                "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SelectionKey")]),t._v(" key "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" keyIterator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isAcceptable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n                    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ServerSocketChannel")]),t._v(" ssChannel1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ServerSocketChannel")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("channel")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 服务器会为每个新连接创建一个 SocketChannel")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SocketChannel")]),t._v(" sChannel "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ssChannel1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("accept")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    sChannel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("configureBlocking")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这个新连接主要用于从客户端读取数据")]),t._v("\n                    sChannel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("register")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("selector"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SelectionKey")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("OP_READ"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isReadable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n                    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SocketChannel")]),t._v(" sChannel "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SocketChannel")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("channel")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("readDataFromSocketChannel")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sChannel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    sChannel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n                keyIterator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("readDataFromSocketChannel")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SocketChannel")]),t._v(" sChannel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IOException")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ByteBuffer")]),t._v(" buffer "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ByteBuffer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("allocate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StringBuilder")]),t._v(" data "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StringBuilder")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n            buffer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("clear")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" n "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" sChannel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("read")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("buffer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            buffer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("flip")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" limit "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" buffer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("limit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" dst "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("limit"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" limit"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                dst"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" buffer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dst"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            buffer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("clear")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NIOClient")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IOException")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Socket")]),t._v(" socket "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Socket")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"127.0.0.1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8888")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OutputStream")]),t._v(" out "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" socket"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getOutputStream")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" s "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello world"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBytes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"内存映射文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#内存映射文件"}},[t._v("#")]),t._v(" 内存映射文件")]),t._v(" "),n("p",[t._v("内存映射文件 I/O 是一种读和写文件数据的方法，它可以比常规的基于流或者基于通道的 I/O 快得多。")]),t._v(" "),n("p",[t._v("向内存映射文件写入可能是危险的，只是改变数组的单个元素这样的简单操作，就可能会直接修改磁盘上的文件。修改数据与将数据保存到磁盘是没有分开的。")]),t._v(" "),n("p",[t._v("下面代码行将文件的前 1024 个字节映射到内存中，map() 方法返回一个 MappedByteBuffer，它是 ByteBuffer 的子类。因此，可以像使用其他任何 ByteBuffer 一样使用新映射的缓冲区，操作系统会在需要时负责执行映射。")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MappedByteBuffer")]),t._v(" mbb "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileChannel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MapMode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("READ_WRITE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"对比"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#对比"}},[t._v("#")]),t._v(" 对比")]),t._v(" "),n("p",[t._v("NIO 与普通 I/O 的区别主要有以下两点：")]),t._v(" "),n("ul",[n("li",[t._v("NIO 是非阻塞的；")]),t._v(" "),n("li",[t._v("NIO 面向块，I/O 面向流。")])]),t._v(" "),n("h1",{attrs:{id:"八、参考资料"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#八、参考资料"}},[t._v("#")]),t._v(" 八、参考资料")]),t._v(" "),n("ul",[n("li",[t._v("Eckel B, 埃克尔, 昊鹏, 等. Java 编程思想 [M]. 机械工业出版社, 2002.")]),t._v(" "),n("li",[n("a",{attrs:{href:"https://www.ibm.com/developerworks/cn/education/java/j-nio/j-nio.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("IBM: NIO 入门"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"http://tutorials.jenkov.com/java-nio/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Java NIO Tutorial"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://tech.meituan.com/nio.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Java NIO 浅析"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://www.ibm.com/developerworks/cn/java/j-lo-javaio/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("IBM: 深入分析 Java I/O 的工作机制"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://www.ibm.com/developerworks/cn/java/j-lo-chinesecoding/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("IBM: 深入分析 Java 中的中文编码问题"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://www.ibm.com/developerworks/cn/java/j-lo-serial/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("IBM: Java 序列化的高级认识"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"http://blog.csdn.net/shimiso/article/details/24990499",target:"_blank",rel:"noopener noreferrer"}},[t._v("NIO 与传统 IO 的区别"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"http://stg-tud.github.io/sedc/Lecture/ws13-14/5.3-Decorator.html#mode=document",target:"_blank",rel:"noopener noreferrer"}},[t._v("Decorator Design Pattern"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"http://labojava.blogspot.com/2012/12/socket-multicast.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Socket Multicast"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=e.exports},860:function(t,a,s){t.exports=s.p+"assets/img/9709694b-db05-4cce-8d2f-1c8b09f4d921.4606122a.png"},861:function(t,a){t.exports="data:image/png;base64,"},862:function(t,a){t.exports="data:image/png;base64,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"},863:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfAAAACUCAMAAABbYIssAAAArlBMVEX////GxsYAAAB2dnbu7u65ubk5OTkSEhIeHh5XV1crKytdXV3Kysvc3NyXl5dHR0dnZ2eHh4eoqKiU45MPDw9EREQuLi4jIyOcnJxk1WIZGRmqqqqQkJCWlpbJ8Mjhubrb29unOTxAyTyDg4NpaWnJycmNAA9RUVHk+OOu6q1+3H3Ednjy/PJTz1DW9dWh56Bw2G677bvUm5y4XV+bHiP47u7oysuvSEqhKy/w3Nw7LuJPAAAHiElEQVR42uzUOwoDMQxF0bcT4caNOv9n/xsLhoGYQPpBc08ntRdJAAAAAAAAAAAAAAA8wKja6tBXkooQkyVto5+7vUVMd9pyyW3O7sklV22ceFB38GTK1WZzW0WZ4HEdwS/ZktyVeelxHcH3QPDoCP4yf4IvISbL22/w3poAAAAAAPiwT++4DQMxFEUvsgVWbFiwmiHmp/1vLlFgw3AtBxEkXhBvAwfM/rIvsluV4DcrwW9Wgt+sBL9ZCX680J8qb9VKs33PVoIfT6fZ1t9tS0Fk37OV4MdTAzaliUYB0TUwK6pmBlWXgYylGycowT8EXhe6TLzVbrMjsoOLIH2rbviy6Wf49wQ/noZI+CgdiDp1UBB5XC9QAy+gxv+X4J8BnwVTQKQt7/ICd8AUJ8Ev0wNydCBma636eIE3qCvBr9QTsk/MSwSt/4IHIkS00muCX6kn5FDvG03dJyKYhwgt3IUEz77Zo2MbAEAAhmH/f83KyOiI+oIqfbPDZ4fPDp8dPjv88k1YdVeeGlbdlaeGVXflqWHVXXlqWHVXnhpW3ZWnhlV35alh1V15alh1V54aVt2Vd9itdxSGYSgKouJVKfzD+19skl2cAR2D6+EWktRh1a48dVi1K08dVu3KU4dVu/LUYdWuPHVYtStPHVbtylOHVbvy1GHVrjx1WLUrTx1W7cpTh1W78tRh1a48dVi1K08dVu3KU4dVu/LUYdWuPHVYtStPHVbtajuONf+fRu3KO+f5fefSqF1998zcy6N25b0z8y6P2tX3mc8SqV15zzxLpHblXXMtkdqVd6JvYbWrT70q1a489eRUu7Zt277s3NmK4zAQBVCVyqXFjrfgJXgBQxLy/384YfbIUslm0vQw4/MaAld1S05CQx8Oh8PhcDgcDofD4XB4kVCNiDUlYisq8Ol8ElvlhE8F7cyElIutTuf9mfYfe38m99i85GsVifg4eZXKrs2yrO1kWuUbIhWlHLrnGx5do+1ZxJE1Tfd4vkP1Um05TF6nslffMplqS4VFqZ+ZnrpBl8WWKiojlUXEMpVpnW9pQsm0RMRKaWNJxJ2t1qpCRGVkWWzt0CKi/bjCcyvbK/xwbaXNI+dG3eMI312ywcTGS6p5XOA7wk5jEs2krgTfTW2jKFa3GW4/M423LZn0r86Sc7nl2Gr+mfte6Q2ZDN7Fd8ucbjj2LH43O5neAmVG8DvKJAoGmW6CFzgoLlhSNggvRqXPglHrdnQyNRU3rFPaO5mmPj1xmSp3+ovVNXtZdbmIF7MuuUy5MrO7Y4b4KpxMCUoU75Wk/QiusU+TcKrmBi56MAWedEvgmhrLLMgwrTN1TIGFvMHKTRbMgqjFs8lMgVbTOqjVJ2ZBPCtaa2SqSNeZ7umzijc6mRZ8WhM6ie0v4HFtilAZGsGDepWEDq4IPLLgdKvGm+nSVMEdRP+mpaFMyv/KrIPH9l+Be2qDhfvTVot4n8S04NeaJNA3gdcl0PhJInhRXwb6DmXCQON1cwllqgN9z8LPBhoPbsIsT4G+76F1tuLzpC2EtKl/tgQBF+/Rc40QQH3lnW0HITfvFp5f+nYaP3vXHEVI6d3CKvxcnXXuXXMKX7JafBbsIaxH3zkusK8O9YCgsSHPSg0EQcpTR6KvEHTVSbTUeB2kFxFUqZ2l3n03YxGcRbxFLkcIu8h8XV8GjA6FqxiAcTOe+iYII8+K2BYYygoXOUsQf9XM7MdiIVyoBAOVp4qF61vm4h1sBpzMCgcNBIzLelZmAk5XrIcBnJtajaphM1GzmpWqBadE4SiU4JBZb+2d/+ZEqypQcNC+54ITcGi1VwqB1aI7qh5YV7Ma1QisgdxRPYD1sOt+WMtqbc1ZsNJiZz+zWlWRCE7ylitetcBrq/VlYk3GHQUCb3BmWXTAy6w7ihFYo0xWl4mnnP7ORvDm1N0QEqxE504VVvBsJf5cegXe1TlI3ULEcHLaIOA9Kvd5CrxRO230ENE7O6WXWH+l00Zs2ImzUycjImwtXiAJHr2jcAkxMtnXBrT1axsdREyp08a4c6eqDCKyamcbi3YuBokI9bpTtRXxnfoEHcR0r0c1F4i4vR4VM4iRzocGxDgPXDVBxKScv6mJGOeBK0UMont/I+5GfIIWdl5YCTuHWyLsu7DUQUyGOx8Jo3bLiVHEPRLiF1bR3/k/e7Kdw91fuJp2PkSoe38mkH9WOCkRQ+q/Ldx8fOH24wsvPr7wXPymmEUM/aWFHzd8W+G7M+HxGf4PfYbXVsTY41v6P/QtnZSIUcfv8H/od/iXdu5YB2EYhqKolYSShIJEJsZIqP//i6wMLllsBuuesVOkdIrfc0myknhpC/XStjrTzLylR3pLX2NaFmpatsY8PNY8/D/u6eWfeLm4J142/8TL0zvxIrPIuTnJtEXLtOUu53omtRoutdqbnGmdXHq8XHqpTXStFponAZsnex2iGXUXQ6UrF/gy7pYpF/g27pbdlB/EuFs2lIOadssW32mPhmuP/kY/PF4/XOTaxvc2AVFYb4DI/hsgHv4bIIb/BojdYAOEehXbISLHlnpmaToAAAAAAAAAAJ4+z6ScUC0fh9UAAAAASUVORK5CYII="},864:function(t,a){t.exports="data:image/png;base64,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"},865:function(t,a){t.exports="data:image/png;base64,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"},866:function(t,a){t.exports="data:image/png;base64,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"},867:function(t,a){t.exports="data:image/png;base64,"}}]);