(window.webpackJsonp=window.webpackJsonp||[]).push([[249],{1355:function(v,_,t){"use strict";t.r(_);var e=t(7),a=Object(e.a)({},(function(){var v=this,_=v.$createElement,t=v._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("h1",{attrs:{id:"页面优化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#页面优化"}},[v._v("#")]),v._v(" 页面优化")]),v._v(" "),t("h2",{attrs:{id:"降低延迟"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#降低延迟"}},[v._v("#")]),v._v(" 降低延迟")]),v._v(" "),t("h3",{attrs:{id:"基于文档结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基于文档结构"}},[v._v("#")]),v._v(" 基于文档结构")]),v._v(" "),t("p",[v._v("优先安排关键网络资源，尽早分派请求。")]),v._v(" "),t("ul",[t("li",[v._v("CSS和JavaScript等重要资源应该尽早在文档中出现。")]),v._v(" "),t("li",[v._v("尽早交付CSS，从而解除渲染阻塞并让JavaScript执行。")]),v._v(" "),t("li",[v._v("推迟非关键性JavaScript，避免阻塞DOM和CSSOM构建。")])]),v._v(" "),t("h3",{attrs:{id:"推测性优化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#推测性优化"}},[v._v("#")]),v._v(" 推测性优化")]),v._v(" "),t("p",[v._v("一般可利用"),t("code",[v._v("link")]),v._v("标签的"),t("code",[v._v("rel")]),v._v("属性来做到。")]),v._v(" "),t("ul",[t("li",[v._v("DNS预解析。"),t("code",[v._v("dns-prefetch")])]),v._v(" "),t("li",[v._v("TCP预连接。")]),v._v(" "),t("li",[v._v("延迟加载：减少页面首屏加载时需要请求的资源。")]),v._v(" "),t("li",[v._v("预加载：预先加载之后可能用到的资源。"),t("code",[v._v("prefetch")]),v._v("，"),t("code",[v._v("subresource")])]),v._v(" "),t("li",[v._v("预渲染：在隐藏的标签页中预先渲染整个页面。"),t("code",[v._v("prerender")])])]),v._v(" "),t("h2",{attrs:{id:"页面内容"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#页面内容"}},[v._v("#")]),v._v(" 页面内容")]),v._v(" "),t("ul",[t("li",[v._v("减少 HTTP 请求数：主要通过文件合并、css 雪碧图、使用 base64图片等。")]),v._v(" "),t("li",[v._v("避免重定向：这会导致多一次请求。")])]),v._v(" "),t("blockquote",[t("p",[v._v("最常见的重定向是：URL 末尾应该添加"),t("code",[v._v("/")]),v._v("但未添加。")])]),v._v(" "),t("ul",[t("li",[t("p",[v._v("资源缓存：对常用不变的资源进行缓存。")])]),v._v(" "),t("li",[t("p",[v._v("减少DOM元素数量。")])])]),v._v(" "),t("blockquote",[t("p",[v._v("不用表格，不用一堆"),t("code",[v._v("div")]),v._v("，尽量用伪元素。")])]),v._v(" "),t("ul",[t("li",[v._v("划分内容到不同域名：每个域的并行线程有限制（4~6）。")])]),v._v(" "),t("blockquote",[t("p",[v._v("同时为了避免DNS查询损耗，一般用2~4个域名。")])]),v._v(" "),t("ul",[t("li",[v._v("减少iframe：加载代价昂贵、阻塞页面 load 事件。")])]),v._v(" "),t("h2",{attrs:{id:"服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务器"}},[v._v("#")]),v._v(" 服务器")]),v._v(" "),t("ul",[t("li",[v._v("使用CDN：内容分发网络通过分散web服务器的地理位置，来提高响应速度。")])]),v._v(" "),t("blockquote",[t("p",[v._v("一般地，服务器选址是基于网络距离来考虑的。")])]),v._v(" "),t("ul",[t("li",[v._v("启用Gzip：压缩资源。")])]),v._v(" "),t("blockquote",[t("p",[v._v("HTTP/1.1开始，web客户端有支持压缩的请求头。")])]),v._v(" "),t("ul",[t("li",[v._v("获取数据用GET：POST请求时分成两步，先发送Http Header，再发送data。")]),v._v(" "),t("li",[v._v("避免空src或href：即使是空的，浏览器也可能会向服务器发起请求。")])]),v._v(" "),t("h2",{attrs:{id:"cookie"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cookie"}},[v._v("#")]),v._v(" Cookie")]),v._v(" "),t("ul",[t("li",[v._v("减少 Cookie 大小。")]),v._v(" "),t("li",[v._v("静态资源使用无Cookie域名")])]),v._v(" "),t("h2",{attrs:{id:"css"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#css"}},[v._v("#")]),v._v(" CSS")]),v._v(" "),t("ul",[t("li",[v._v("把样式表放在"),t("code",[v._v("<head>")]),v._v("中，快点加载CSS文件，避免白屏。")]),v._v(" "),t("li",[v._v("不使用CSS表达式。")]),v._v(" "),t("li",[t("code",[v._v("<link>")]),v._v("替代"),t("code",[v._v("@import")]),v._v("：对于IE某些版本，@import的行为和放在页面底部一样。")])]),v._v(" "),t("h2",{attrs:{id:"js"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#js"}},[v._v("#")]),v._v(" JS")]),v._v(" "),t("ul",[t("li",[v._v("把脚本放在页面底部，或者考虑"),t("code",[v._v("defer")]),v._v("或"),t("code",[v._v("async")]),v._v("属性。")]),v._v(" "),t("li",[v._v("使用外部JavaScript和CSS，这些可以被浏览器缓存。")]),v._v(" "),t("li",[v._v("压缩JavaScript和CSS，去除空格或注释等。")]),v._v(" "),t("li",[v._v("减少DOM操作。")])]),v._v(" "),t("p",[v._v("参考："),t("a",{attrs:{href:"https://juejin.im/post/5b73ef38f265da281e048e51#heading-10",target:"_blank",rel:"noopener noreferrer"}},[v._v("《前端性能优化之雅虎35条军规》"),t("OutboundLink")],1)])])}),[],!1,null,null,null);_.default=a.exports}}]);